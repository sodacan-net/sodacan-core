// A comment
UNIT lamp1							// This names the thing
  DEFINE event {next,on,off}		// Define possible events that this unit can receive
  DEFINE state {off,on}				// Define a state variable and possible state values
  WHEN event.next 
    THEN next(state);print("State=",state)
  WHEN event.on AND NOT state.on 
    THEN state="on"
  WHEN event.off AND NOT state.off
    THEN state.off

UNIT lamp3 LIKE lamp2
	DEFINE state{on,off}
	WHEN state.on
	  THEN state.off

// Another comment
UNIT lamp2 LIKE lamp1
	DEFINE state {auto}
	WHEN lamp1.state.on
	  THEN state.off
	  